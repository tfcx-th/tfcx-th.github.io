<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="前端小码农~"><title>JavaScript的类型、值和变量 | 天赋创新的blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JavaScript的类型、值和变量</h1><a id="logo" href="/.">天赋创新的blog</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JavaScript的类型、值和变量</h1><div class="post-meta">Mar 29, 2019<span> | </span><span class="category"><a href="/categories/前端/">前端</a></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript的数据类型"><span class="toc-number">1.</span> <span class="toc-text">JavaScript的数据类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#数字"><span class="toc-number">2.</span> <span class="toc-text">数字</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#整型"><span class="toc-number">2.1.</span> <span class="toc-text">整型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#浮点型"><span class="toc-number">2.2.</span> <span class="toc-text">浮点型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#运算"><span class="toc-number">2.3.</span> <span class="toc-text">运算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#二进制浮点数和四舍五入错误"><span class="toc-number">2.4.</span> <span class="toc-text">二进制浮点数和四舍五入错误</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#日期和时间"><span class="toc-number">2.5.</span> <span class="toc-text">日期和时间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#字符串"><span class="toc-number">3.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串直接量"><span class="toc-number">3.1.</span> <span class="toc-text">字符串直接量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#字符串的使用"><span class="toc-number">3.2.</span> <span class="toc-text">字符串的使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#布尔值"><span class="toc-number">4.</span> <span class="toc-text">布尔值</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#null和undefined"><span class="toc-number">5.</span> <span class="toc-text">null和undefined</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#全局对象"><span class="toc-number">6.</span> <span class="toc-text">全局对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#包装对象"><span class="toc-number">7.</span> <span class="toc-text">包装对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#不可变的原始值和可变的对象引用"><span class="toc-number">8.</span> <span class="toc-text">不可变的原始值和可变的对象引用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原始值"><span class="toc-number">8.1.</span> <span class="toc-text">原始值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象"><span class="toc-number">8.2.</span> <span class="toc-text">对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#类型转换"><span class="toc-number">9.</span> <span class="toc-text">类型转换</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#原始值的转换"><span class="toc-number">9.1.</span> <span class="toc-text">原始值的转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#显式类型转换"><span class="toc-number">9.2.</span> <span class="toc-text">显式类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对象转换为原始值"><span class="toc-number">9.3.</span> <span class="toc-text">对象转换为原始值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#变量作用域"><span class="toc-number">10.</span> <span class="toc-text">变量作用域</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#全局作用域与函数作用域"><span class="toc-number">10.1.</span> <span class="toc-text">全局作用域与函数作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#函数作用域和声明提前"><span class="toc-number">10.2.</span> <span class="toc-text">函数作用域和声明提前</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="JavaScript的数据类型"><a href="#JavaScript的数据类型" class="headerlink" title="JavaScript的数据类型"></a>JavaScript的数据类型</h2><pre><code>数据类型（type）：能够表示并操作的值得类型
变量（variable）：一个值的符号名称，通过名称获得对值的引用
</code></pre><ul>
<li><p>原始类型（primitive type）</p>
<ul>
<li><p>数字</p>
</li>
<li><p>字符串</p>
</li>
<li><p>布尔值</p>
</li>
</ul>
</li>
<li><p>对象类型（object type）</p>
</li>
<li><p>特殊的原始值</p>
<ul>
<li><p>null（空）</p>
</li>
<li><p>undefined（未定义）</p>
</li>
</ul>
</li>
</ul>
<h2 id="数字"><a href="#数字" class="headerlink" title="数字"></a>数字</h2><p>JavaScript不区分整数值和浮点数，所有数字均用浮点数（IEEE754）表示</p>
<h3 id="整型"><a href="#整型" class="headerlink" title="整型"></a>整型</h3><ul>
<li><p>十进制：0、9、314124</p>
</li>
<li><p>十六进制（以0x或0X为前缀）：0xff（255）</p>
</li>
<li><p>八进制：部分支持，ES6严格模式不支持</p>
</li>
</ul>
<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><ul>
<li><p>含有小数点：3.14、.475</p>
</li>
<li><p>指数计数法：9.234e1231、2.31E-1423523</p>
</li>
</ul>
<h3 id="运算"><a href="#运算" class="headerlink" title="运算"></a>运算</h3><ul>
<li><p>加（+）、减（-）、乘（*）、除（/）、求余（%）</p>
</li>
<li><p><strong>特殊情况</strong></p>
<ul>
<li><p>溢出（overflow）：数字运算结果超过JavaScript所能表示的数字上限，结果为一个无穷大值，用<code>Infinity</code>表示</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> / <span class="number">0</span>                   <span class="comment">// =&gt; Infinity</span></span><br><span class="line"><span class="number">-1</span> / <span class="number">0</span>                  <span class="comment">// =&gt; -Infinity</span></span><br><span class="line"><span class="number">1</span> + <span class="literal">Infinity</span>            <span class="comment">// =&gt; Infinity</span></span><br><span class="line"><span class="literal">Infinity</span> + <span class="literal">Infinity</span>     <span class="comment">// =&gt; Infinity</span></span><br></pre></td></tr></table></figure>
<p>  Number.MAX_VALUE + 1结果并非Infinity(1.7976931348623157e+308)。参考<a href="https://www.zhihu.com/question/24423421/answer/140269663" target="_blank" rel="noopener">为什么在 js 中 Number.MAX_VALUE + 1 不是 Infinity？</a></p>
</li>
<li><p>下溢（underflow）：运算结果无限接近0并比JavaScript能表示的最小值还小，此时JavaScript返回0。当一个负数发生下溢时，返回-0</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> === <span class="number">-0</span>                <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="number">1</span> / <span class="number">0</span> === <span class="number">1</span> / <span class="number">-0</span>        <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>非数字（NaN）</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> / <span class="number">0</span>                   <span class="comment">// =&gt; NaN</span></span><br><span class="line"><span class="literal">Infinity</span> - <span class="literal">Infinity</span>     <span class="comment">// =&gt; NaN</span></span><br><span class="line"><span class="literal">Infinity</span> / <span class="literal">Infinity</span>     <span class="comment">// =&gt; NaN</span></span><br><span class="line"><span class="built_in">Math</span>.sqrt(<span class="number">-1</span>)           <span class="comment">// =&gt; NaN</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>NaN</code>与任何值都不相等，包括自身，无法用<code>x == NaN</code>判断。当且仅当x为<code>NaN</code>，<code>x != x</code>为true</p>
</blockquote>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="literal">NaN</span>;</span><br><span class="line"><span class="built_in">console</span>.log(x != x);   <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="二进制浮点数和四舍五入错误"><a href="#二进制浮点数和四舍五入错误" class="headerlink" title="二进制浮点数和四舍五入错误"></a>二进制浮点数和四舍五入错误</h3><p>用JavaScript使用实数时，常常只是真实值的一个近似表示</p>
<p>浮点数转化为二进制可能会产生无限循环小数，由于IEEE754尾数位数限制，需要将后面多余的位截掉，由于指数位数不相同，运算时需要对阶运算，这部分也可能产生精度损失</p>
<blockquote>
<p>0.1 -&gt; 0.0001100110011001…(无限循环)<br>0.2 -&gt; 0.0011001100110011…(无限循环)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">0.3</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">var</span> z = <span class="number">0.1</span>;</span><br><span class="line">(x - y) == (y - z);         <span class="comment">// =&gt; false</span></span><br><span class="line">(x - y) == <span class="number">0.1</span>;             <span class="comment">// =&gt; false</span></span><br><span class="line">(y - z) == <span class="number">0.1</span>;             <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<p>可以通过转化为整数解决这个问题</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">10</span> * x - <span class="number">10</span> * y) == (<span class="number">10</span> * y - <span class="number">10</span> * z);     <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<h3 id="日期和时间"><a href="#日期和时间" class="headerlink" title="日期和时间"></a>日期和时间</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> then = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">0</span>, <span class="number">1</span>);               <span class="comment">// =&gt; 2018年1月1日</span></span><br><span class="line"><span class="keyword">var</span> later = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2018</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">18</span>, <span class="number">0</span>, <span class="number">0</span>);    <span class="comment">// =&gt; 2018年1月1日18点</span></span><br><span class="line"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>();                          <span class="comment">// =&gt; 当前日期和时间</span></span><br><span class="line"><span class="keyword">var</span> elapsed = now - then;                      <span class="comment">// =&gt; 计算时间间隔的毫秒数</span></span><br><span class="line">later.getFullYear()                            <span class="comment">// =&gt; 2019</span></span><br><span class="line">later.getMonth()                               <span class="comment">// =&gt; 2，从0开始计数</span></span><br><span class="line">later.getDate()                                <span class="comment">// =&gt; 1，从1开始计数</span></span><br><span class="line">later.getDay()                                 <span class="comment">// =&gt; 5，得到星期几，0为周日</span></span><br><span class="line">later.getHours()                               <span class="comment">// =&gt; 当地时间小时</span></span><br><span class="line">later.getUTCHours()                            <span class="comment">// =&gt; 使用UTC表示小时的时间，基于时区</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>获取当月第一天</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month - <span class="number">1</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取上月最后一天</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month - <span class="number">1</span>, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>由16位值组成的不可变的有序序列。每个字符通常来自Unicode字符集</p>
<h3 id="字符串直接量"><a href="#字符串直接量" class="headerlink" title="字符串直接量"></a>字符串直接量</h3><ul>
<li><p>由单引号或双引号括起来的字符序列。</p>
</li>
<li><p>由单引号定界的字符串中可以包含双引号，由双引号定界的字符串中可以包含单引号。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">''</span>                          <span class="comment">// =&gt; 空字符串</span></span><br><span class="line"><span class="string">'abcdefg'</span>                   <span class="comment">// =&gt; 字符串abcdefg</span></span><br><span class="line"><span class="string">'3.14'</span>                      <span class="comment">// =&gt; 字符串3.14</span></span><br><span class="line"><span class="string">'name = "tfcx"'</span>             <span class="comment">// =&gt; 字符串(name = "tfcx")</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>字符串直接量可以拆分成数行，每行必须以反斜线<code>\</code>结束，反斜线和行结束符都不算字符串直接量的内容</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'tong\</span></span><br><span class="line"><span class="string">  hao'</span></span><br><span class="line">alert(str);                  <span class="comment">// tong  hao</span></span><br><span class="line">alert(str.length);           <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>换行时行前空格也算作字符</p>
</blockquote>
</li>
<li><p>希望字符串另起一行可以加<code>\n</code>，<code>\n</code>占一个字符</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'tong\nhao'</span></span><br><span class="line">alert(str);                  <span class="comment">// =&gt; tong</span></span><br><span class="line">                             <span class="comment">//    hao</span></span><br><span class="line">alert(str.length);           <span class="comment">// =&gt; 8</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="字符串的使用"><a href="#字符串的使用" class="headerlink" title="字符串的使用"></a>字符串的使用</h3><ul>
<li><p>字符串连接</p>
<p>  <code>+</code>用于字符串表示将第二个字符串拼接在第一个之后</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'XJ'</span> + <span class="string">'TU'</span>                  <span class="comment">// =&gt; XJTU</span></span><br></pre></td></tr></table></figure>
<p>  连接数字和字符串时，从左往右计算，数字转换为字符串</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'asd'</span> + <span class="number">1</span> + <span class="number">2</span>                <span class="comment">// =&gt; asd12</span></span><br><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="string">'asd'</span>                <span class="comment">// =&gt; 3asd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>其他方法</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'hello, world'</span>;</span><br><span class="line">str.length                          <span class="comment">// =&gt; 12</span></span><br><span class="line">str.charAt(<span class="number">0</span>)                       <span class="comment">// =&gt; h</span></span><br><span class="line">str.charAt(str.length - <span class="number">1</span>)          <span class="comment">// =&gt; d\</span></span><br><span class="line">str.toUpperCase()                   <span class="comment">// =&gt; HELLO, WORLD</span></span><br><span class="line">str.toLowerCase()                   <span class="comment">// =&gt; hello, world</span></span><br><span class="line">str.replace(<span class="string">'h'</span>, <span class="string">'H'</span>)               <span class="comment">// =&gt; Hello, world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * String.substring(from, to) 返回字符串子串</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; from - 非负整数，指定要提取的子串的第一个字符在string中的位置</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; to - 非负整数，比要提取的子串的最后一个字符的位置大1；若省略则子串持续到末尾</span></span><br><span class="line"><span class="comment"> * @returns &#123;String&#125; - 返回新的字符串，为原字符串from到to-1的副本</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">str.substring(<span class="number">1</span>, <span class="number">4</span>)                 <span class="comment">// =&gt; ell</span></span><br><span class="line">str.substring(<span class="number">7</span>)                    <span class="comment">// =&gt; world</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * String.slice(start, end) 提取一个子串</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; start - 切片开始的索引，如果为负，则从尾部开始计算</span></span><br><span class="line"><span class="comment"> * @param &#123;number&#125; end - 紧跟着切片结尾的字符串索引；如果不指定，则切片将包括从start开始到结尾的所有字符；如果为负，则从尾部开始计算</span></span><br><span class="line"><span class="comment"> * @returns &#123;String&#125; - 返回新的字符串，为原字符串start到end但不包括end的所有字符的副本</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">str.slice(<span class="number">2</span>, <span class="number">6</span>)                     <span class="comment">// =&gt; llo,</span></span><br><span class="line">str.slice(<span class="number">9</span>)                        <span class="comment">// =&gt; rld</span></span><br><span class="line">str.slice(<span class="number">-4</span>, <span class="number">-1</span>)                   <span class="comment">// =&gt; orl</span></span><br><span class="line">str.slice(<span class="number">4</span>, <span class="number">-1</span>)                    <span class="comment">// =&gt; o, worl</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * String.split(delimiter, limit) 将一个字符串切分成一个由字符串组成的数组</span></span><br><span class="line"><span class="comment"> * @param delimiter - string切分处的字符串或正则表达式</span></span><br><span class="line"><span class="comment"> * @param limit &#123;number&#125; - 可选，指定已返回数组的最大长度</span></span><br><span class="line"><span class="comment"> * @returns &#123;Array&#125; - 一个由字符串组成的数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">str.split(<span class="string">','</span>)                      <span class="comment">// =&gt; ['hello', ' world']</span></span><br><span class="line">str.split(<span class="string">'o'</span>, <span class="number">2</span>)                   <span class="comment">// =&gt; ['hell', ', w']</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * String.indexOf(substring, start) 搜索一个子串</span></span><br><span class="line"><span class="comment"> * @param substring &#123;String&#125; - 在String中搜索的子串</span></span><br><span class="line"><span class="comment"> * @param start &#123;number&#125; - 可选的整数，指定该次搜索在字符串中的开始位置，合法值为0到String.length - 1；若省略，则从头开始</span></span><br><span class="line"><span class="comment"> * @returns &#123;number&#125; - 返回substring第一次出现的位置，若没找到则返回-1</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">str.indexOf(<span class="string">'ll'</span>)                   <span class="comment">// =&gt; 2</span></span><br><span class="line">str.indexOf(<span class="string">'lluj'</span>)                 <span class="comment">// =&gt; -1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>在JavaScript中字符串都是固定不变的，类似<code>replace()</code>等方法都返回新字符串，原字符串本身不发生改变；字符串也可看做只读数组，用方括号访问单个字符</p>
</blockquote>
</li>
</ul>
<h2 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h2><p>布尔值类型只有<code>true</code>和<code>false</code>，任意JavaScript的值都可以转换为布尔值</p>
<blockquote>
<p><code>undefined</code>, <code>null</code>, <code>0</code>, <code>-0</code>, <code>NaN</code>, <code>&#39;&#39;</code>会被转换为<code>false</code>；所有其他值都会转换成<code>true</code></p>
</blockquote>
<h2 id="null和undefined"><a href="#null和undefined" class="headerlink" title="null和undefined"></a>null和undefined</h2><ul>
<li><p><code>null</code>是JavaScript的关键字，常用来描述“空值”。<code>null</code>是一个特殊的对象值，通常认为<code>null</code>是它自有类型的唯一一个成员，表示数字、字符串和对象是“无值”的。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>                         <span class="comment">// =&gt; object</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>undefined</code>是预定义的全局变量，不是关键字，ES5中是只读的</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>                         <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>undefined</code>是变量的一种取值，表示变量没有初始化；</p>
</li>
<li><p>如果要查询对象的属性或数组元素的值时返回<code>undefined</code>则说明这个属性或者元素不存在；</p>
</li>
<li><p>如果函数没有返回任何值，则返回<code>undefined</code>；</p>
</li>
<li><p>引用没有提供实参的函数形参的值也只会得到<code>undefined</code></p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>                         <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span>                        <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="全局对象"><a href="#全局对象" class="headerlink" title="全局对象"></a>全局对象</h2><ul>
<li><p>全局对象的属性是全局定义的符号，JavaScript程序可以直接使用。当JavaScript解释器启动时（或任何web浏览器加载新页面时），将创建一个新的全局对象，并给他一组定义的初试属性：</p>
<ul>
<li><p>全局属性：<code>undefined</code>、<code>Infinity</code>、<code>NaN</code>等</p>
</li>
<li><p>全局函数：<code>isNaN()</code>、<code>parseInt()</code>、<code>eval()</code>等</p>
</li>
<li><p>构造函数：<code>Date()</code>、<code>RegExp()</code>、<code>String()</code>、<code>Object()</code>、<code>Array()</code>等</p>
</li>
<li><p>全局对象：<code>Math</code>、<code>JSON</code>等</p>
</li>
</ul>
</li>
<li><p>在客户端JavaScript中，Window对象充当了全局对象。</p>
</li>
<li><p>当初次创建时，全局对象定义了JavaScript中所有的预定义全局值。这个特殊对象同样包含了为程序定义的全局值。如果代码声明了一个全局变量，这个全局变量就是全局对象的一个属性。</p>
</li>
</ul>
<h2 id="包装对象"><a href="#包装对象" class="headerlink" title="包装对象"></a>包装对象</h2><pre><code>存取字符串、数字或布尔值的属性时创建的临时对象称作包装对象。
</code></pre><p>例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'hello, world'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.substring(str.indexOf(<span class="string">' '</span>) + <span class="number">1</span>, str.length));</span><br><span class="line"><span class="comment">// =&gt; world</span></span><br></pre></td></tr></table></figure>
<p>当引用字符串<code>str</code>的属性，JavaScript就会将字符串值通过调用<code>new String(s)</code>的方式转换成对象，这个对象继承了字符串的方法，并被用来处理属性的引用。一旦属性引用结束，这个新创建的对象就会销毁。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'test'</span>;</span><br><span class="line">str.len = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> t = str.len;</span><br><span class="line"><span class="built_in">console</span>.log(t);                            <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改只发生在临时对象身上，而临时对象并未继续保留下来</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'test'</span>;</span><br><span class="line"><span class="keyword">var</span> Str = <span class="keyword">new</span> <span class="built_in">String</span>(str);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str);                    <span class="comment">// =&gt; string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> Str);                    <span class="comment">// =&gt; object</span></span><br><span class="line"><span class="built_in">console</span>.log(str == Str);                    <span class="comment">// =&gt; true</span></span><br><span class="line"><span class="built_in">console</span>.log(str === Str);                   <span class="comment">// =&gt; false</span></span><br></pre></td></tr></table></figure>
<h2 id="不可变的原始值和可变的对象引用"><a href="#不可变的原始值和可变的对象引用" class="headerlink" title="不可变的原始值和可变的对象引用"></a>不可变的原始值和可变的对象引用</h2><p>原始值：数字、字符串、布尔值、<code>undefined</code>、<code>null</code></p>
<p>对象：数组、函数等</p>
<h3 id="原始值"><a href="#原始值" class="headerlink" title="原始值"></a>原始值</h3><ul>
<li><p>原始值用任何方法都不能更改；字符串的所有方法均返回一个新的字符串</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'test'</span>;</span><br><span class="line"><span class="keyword">var</span> str1 = str.toUpperCase();</span><br><span class="line"><span class="built_in">console</span>.log(str);                       <span class="comment">// =&gt; 'test'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>原始值的比较是值的比较：值相等的时候才相等；对于字符串，当且仅当长度相等且每个索引的字符串都相等时才相等。</p>
</li>
</ul>
<h3 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h3><ul>
<li><p>对象的值是可修改的</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arr[<span class="number">1</span>] = <span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);                       <span class="comment">// =&gt; [1, 5, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象的比较不是值的比较，即使两个对象包含同样的属性及相同的值，他们也不相等；各个索引元素完全相同的两个数组也不相等</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;,</span><br><span class="line">    obj2 = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(obj1 === obj2);              <span class="comment">// =&gt; fasle</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象是引用类型（reference type），对象的比较均是引用的比较，当且仅当它们引用同一个基对象时才相等</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = arr1;</span><br><span class="line"><span class="built_in">console</span>.log(arr1 === arr2);              <span class="comment">// =&gt; true</span></span><br><span class="line">arr2[<span class="number">2</span>] = <span class="number">9</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr1[<span class="number">2</span>]);                    <span class="comment">// =&gt; 9</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>想得到一个数组或对象的副本，必须显式复制对象的每个属性或数组的每个元素</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr1.length; i++) &#123;</span><br><span class="line">    arr2[i] = arr1[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果想比较两个单独的对象或者数组，则必须比较它们的属性或元素</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">euqalArrays</span>(<span class="params">arr1, arr2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr1.length != arr2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr1[i] != arr2[i]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><h3 id="原始值的转换"><a href="#原始值的转换" class="headerlink" title="原始值的转换"></a>原始值的转换</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">值(转换为)</th>
<th style="text-align:center">字符串</th>
<th style="text-align:center">数字</th>
<th style="text-align:center">布尔值</th>
<th style="text-align:center">对象</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">undefined</td>
<td style="text-align:center">‘undefined’</td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">false</td>
<td style="text-align:center">throw TypeError</td>
</tr>
<tr>
<td style="text-align:center">null</td>
<td style="text-align:center">‘null’</td>
<td style="text-align:center">0</td>
<td style="text-align:center">false</td>
<td style="text-align:center">throw TypeError</td>
</tr>
<tr>
<td style="text-align:center">true</td>
<td style="text-align:center">‘true’</td>
<td style="text-align:center">1</td>
<td style="text-align:center"></td>
<td style="text-align:center">new Booleaan(true)</td>
</tr>
<tr>
<td style="text-align:center">false</td>
<td style="text-align:center">‘false’</td>
<td style="text-align:center">0</td>
<td style="text-align:center"></td>
<td style="text-align:center">new Boolean(false)</td>
</tr>
<tr>
<td style="text-align:center">‘’（空字符串）</td>
<td style="text-align:center"></td>
<td style="text-align:center">0</td>
<td style="text-align:center">false</td>
<td style="text-align:center">new String(‘’)</td>
</tr>
<tr>
<td style="text-align:center">‘1.2’</td>
<td style="text-align:center"></td>
<td style="text-align:center">1.2</td>
<td style="text-align:center">true</td>
<td style="text-align:center">new String(‘1.2’)</td>
</tr>
<tr>
<td style="text-align:center">‘one’</td>
<td style="text-align:center"></td>
<td style="text-align:center">NaN</td>
<td style="text-align:center">true</td>
<td style="text-align:center">new String(‘one’)</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">‘0’</td>
<td style="text-align:center"></td>
<td style="text-align:center">false</td>
<td style="text-align:center">new Number(0)</td>
</tr>
<tr>
<td style="text-align:center">-0</td>
<td style="text-align:center">‘0’</td>
<td style="text-align:center"></td>
<td style="text-align:center">false</td>
<td style="text-align:center">new Number(-0)</td>
</tr>
<tr>
<td style="text-align:center">NaN</td>
<td style="text-align:center">‘NaN’</td>
<td style="text-align:center"></td>
<td style="text-align:center">false</td>
<td style="text-align:center">new Number(NaN)</td>
</tr>
<tr>
<td style="text-align:center">Infinity</td>
<td style="text-align:center">‘Infinity’</td>
<td style="text-align:center"></td>
<td style="text-align:center">true</td>
<td style="text-align:center">new Number(Infinity)</td>
</tr>
<tr>
<td style="text-align:center">-Infinty</td>
<td style="text-align:center">‘-Infinity’</td>
<td style="text-align:center"></td>
<td style="text-align:center">true</td>
<td style="text-align:center">new Number(-Infinity)</td>
</tr>
</tbody>
</table>
</div>
<p>以数字表示的字符串转换为数字时，允许开头或结尾带空格，但开头或结尾处的任意非空格字符以及数字中间的任意字符会造成字符串转换为<code>NaN</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'  3.14  '</span>,</span><br><span class="line">    str2 = <span class="string">'3.  14'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(str1));                  <span class="comment">// =&gt; 3.14</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(str2));                  <span class="comment">// =&gt; NaN</span></span><br></pre></td></tr></table></figure>
<h3 id="显式类型转换"><a href="#显式类型转换" class="headerlink" title="显式类型转换"></a>显式类型转换</h3><ul>
<li><p>最简单的方法是使用<code>Boolean()</code>、<code>Number()</code>、<code>String()</code>或<code>Object()</code>函数</p>
<blockquote>
<p>除了<code>null</code>或<code>undefined</code>之外的任何值都具有<code>toString()</code>方法，这个方法的执行结果通常和<code>String()</code>方法的返回结果一致</p>
</blockquote>
</li>
<li><p>JavaScript中的某些运算符会做隐式的类型转换</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x + <span class="string">''</span>                               <span class="comment">// =&gt; String(x)</span></span><br><span class="line">+x                                   <span class="comment">// =&gt; Number(x)</span></span><br><span class="line">!!x                                  <span class="comment">// =&gt; Boolean(x);</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Number</code>类转换为<code>String</code>的方法</p>
<ul>
<li><p><code>toString()</code>方法可以接受表示转换基数的可选参数，如果不指定，则默认十进制</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">15</span>;</span><br><span class="line">n.toString(<span class="number">2</span>)                <span class="comment">// =&gt; '1111'</span></span><br><span class="line">n.toString(<span class="number">8</span>)                <span class="comment">// =&gt; '17'</span></span><br><span class="line">n.toString(<span class="number">16</span>)               <span class="comment">// =&gt; 'f'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>toFixed()</code>根据小数点后指定位数将数字转换为字符串</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">3.141</span>;</span><br><span class="line">n.toFixed()                    <span class="comment">// =&gt; 3</span></span><br><span class="line">n.toFixed(<span class="number">2</span>)                   <span class="comment">// =&gt; 3.14</span></span><br><span class="line">n.toFixed(<span class="number">4</span>)                   <span class="comment">// =&gt; 3.1410</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>toExponential()</code>使用指数计数法将数字转换为指数形式的字符串，其中小数点前只有一位，小数点后的位数由参数指定</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">12345.6789</span>;</span><br><span class="line">n.toExponential()               <span class="comment">// =&gt; '1.23456789e+4'</span></span><br><span class="line">n.toExponential(<span class="number">2</span>)              <span class="comment">// =&gt; '1.23e+4'</span></span><br><span class="line">n.toExponential(<span class="number">9</span>)              <span class="comment">// =&gt; '1.234567890e+4'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>toPrecision()</code>根据指定的有效数字位数将数字转换成字符串</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">12345.6789</span>;</span><br><span class="line">n.toPrecision(<span class="number">3</span>)                <span class="comment">// =&gt; '1.23e+4'</span></span><br><span class="line">n.toPrecision(<span class="number">7</span>)                <span class="comment">// =&gt; '12345.68'</span></span><br><span class="line">n.toPrecision(<span class="number">10</span>)               <span class="comment">// =&gt; '12345.67890'</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>String</code>类转换为<code>Number</code>的方法</p>
<ul>
<li><p>通过<code>Number()</code>方法只能基于十进制，并且不能出现非法的尾随字符</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">'3.14qwe'</span></span><br><span class="line"><span class="built_in">Number</span>(str)                     <span class="comment">// =&gt; NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>parseInt()</code>方法只解析整数，如果字符串前缀是<code>0x</code>或<code>0X</code>将被认为是十六进制；<code>parseFloat()</code>可以解析整数和浮点数。调用时会跳过任意数量的前导空格，尽可能解析更多数字字符，并忽略后面的内容。如果第一个非空格字符是非法字符，则返回<code>NaN</code></p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'3asd'</span>)                <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'-3.14'</span>)               <span class="comment">// =&gt; -3</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">'0xff'</span>)                <span class="comment">// =&gt; 255</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'3.14qwe'</span>)           <span class="comment">// =&gt; 3.14</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">'qw12.324'</span>)          <span class="comment">// =&gt; NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>parseInt()</code>方法可以接受第二个可选参数，这个参数指定数字转换的基数，合法的取值范围是2~36</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">'1010'</span>, <span class="number">2</span>)             <span class="comment">// =&gt; 10</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="对象转换为原始值"><a href="#对象转换为原始值" class="headerlink" title="对象转换为原始值"></a>对象转换为原始值</h3><ul>
<li><p>对象到布尔值：所有的对象（包括数组和函数）都转换为<code>true</code></p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)                  <span class="comment">// 将被转换为true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>对象到字符串和对象到数字：通过调用待转换对象的一个方法来完成的（这里提到的转换规则只适用于本地对象）</p>
<ul>
<li><p><code>toString()</code>：作用是返回一个反映这个对象的字符串</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;.toString()             <span class="comment">// =&gt; '[object Object]'</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].toString()                <span class="comment">// =&gt; '1,2,3'</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123; x++; &#125;).toString()   <span class="comment">// =&gt; 'function (x) &#123; x++; &#125;'</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2019</span>, <span class="number">1</span>, <span class="number">1</span>).toString()     <span class="comment">// =&gt; 'Fri Feb 01 2019 00:00:00 GMT+0800 (CST)'</span></span><br><span class="line">(<span class="regexp">/\d+/g</span>).toString()                 <span class="comment">// =&gt; '/\d+/g'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>valueOf()</code>：如果存在任意原始值，默认将对象转换为表示他的原始值；对象是复合值，默认的<code>valueOf</code>方法简单的返回对象本身</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].valueOf()                 <span class="comment">// =&gt; [1,2,3]</span></span><br><span class="line">&#123;<span class="attr">x</span>:<span class="number">1</span>, <span class="attr">y</span>:<span class="number">2</span>&#125;.valueOf()                <span class="comment">// =&gt; &#123;x:1, y:2&#125;</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2019</span>, <span class="number">1</span>, <span class="number">1</span>).valueOf()      <span class="comment">// =&gt; 1548950400000</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>对象到字符串的转换步骤</p>
<ul>
<li><p>如果对象具有<code>toString()</code>方法，则调用这个方法；若返回一个原始值，JavaScript将这个值转换为字符串，并返回字符串；</p>
</li>
<li><p>如果对象不具有<code>toString()</code>方法，或者不返回一个原始值，JavaScript将调用<code>valueOf()</code>方法；若返回一个原始值，JavaScript将这个值转换为字符串，并返回字符串；</p>
</li>
<li><p>否则JavaScript无法从<code>toString()</code>或<code>valueOf()</code>获得一个原始值，将抛出类型错误异常</p>
</li>
</ul>
</li>
<li><p>对象到数字的转换中，首先尝试<code>valueOf()</code></p>
</li>
</ul>
<h2 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h2><h3 id="全局作用域与函数作用域"><a href="#全局作用域与函数作用域" class="headerlink" title="全局作用域与函数作用域"></a>全局作用域与函数作用域</h3><p>全局变量具有全局作用域；在函数内声明的变量只在函数体内有定义</p>
<ul>
<li><p>在函数体内，局部变量的优先级高于同名的全局变量</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">'asd'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">'qwe'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(scope);</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">&#125;</span><br><span class="line">f();                                <span class="comment">// =&gt; qwe</span></span><br><span class="line"><span class="built_in">console</span>.log(scope);                 <span class="comment">// =&gt; asd</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>声明局部变量时必须使用<code>var</code></p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scope = <span class="string">'asd'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    scope = <span class="string">'qwe'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(scope);</span><br><span class="line">    <span class="keyword">return</span> scope;</span><br><span class="line">&#125;</span><br><span class="line">f();                                <span class="comment">// =&gt; qwe</span></span><br><span class="line"><span class="built_in">console</span>.log(scope);                 <span class="comment">// =&gt; qwe</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="函数作用域和声明提前"><a href="#函数作用域和声明提前" class="headerlink" title="函数作用域和声明提前"></a>函数作用域和声明提前</h3><ul>
<li><p>JavaScript没有块级作用域</p>
</li>
<li><p>函数作用域：变量在声明他们的函数体以及这个函数体嵌套的任意函数体内都是有定义的</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">o</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> i = o;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> o == <span class="string">'object'</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> k = <span class="number">0</span>; k &lt; <span class="number">10</span>; k++) &#123;</span><br><span class="line">            <span class="built_in">console</span>.log(k);                 <span class="comment">// =&gt; 0-9</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">console</span>.log(k);                     <span class="comment">// =&gt; 10</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">console</span>.log(j);                         <span class="comment">// =&gt; 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>声明提前：JavaScript函数里声明的所有变量（不涉及赋值）都被提升到函数体的顶部</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> scope = <span class="string">'asd'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(scope);                     <span class="comment">// =&gt; undefined</span></span><br><span class="line">    <span class="keyword">var</span> scope = <span class="string">'qwe'</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(scope);                     <span class="comment">// =&gt; qwe</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</div><div class="tags"><a href="/tags/前端/">前端</a><a href="/tags/JavaScript/">JavaScript</a></div><div class="post-nav"><a class="pre" href="/2019/03/30/HTTP-notes/">HTTP常见知识点</a><a class="next" href="/2019/03/23/JavaScriptStrictMode/">JavaScript严格模式</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"><input type="hidden" name="si" value="http://yoursite.com"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/DevTools/">DevTools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端/">前端</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/可视化/">可视化</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/测试/">测试</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/可视化/" style="font-size: 15px;">可视化</a> <a href="/tags/前端/" style="font-size: 15px;">前端</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/网络/" style="font-size: 15px;">网络</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/前端框架/" style="font-size: 15px;">前端框架</a> <a href="/tags/算法/" style="font-size: 15px;">算法</a> <a href="/tags/HTML-CSS/" style="font-size: 15px;">HTML&CSS</a> <a href="/tags/《Data-Visualization-with-JavaScript》/" style="font-size: 15px;">《Data Visualization with JavaScript》</a> <a href="/tags/动态规划/" style="font-size: 15px;">动态规划</a> <a href="/tags/测试/" style="font-size: 15px;">测试</a> <a href="/tags/软件工程思想/" style="font-size: 15px;">软件工程思想</a> <a href="/tags/DevTools/" style="font-size: 15px;">DevTools</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/读书笔记/" style="font-size: 15px;">读书笔记</a> <a href="/tags/《CSS揭秘》/" style="font-size: 15px;">《CSS揭秘》</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/08/03/常见文本样式/">常见文本样式</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/29/BigInt/">BigInt——JavaScript超出安全整数限制时的计算</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/26/《CSS揭秘》读书笔记（三）：视觉效果/">《CSS揭秘》读书笔记（三）：视觉效果</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/22/ES6-Promise/">ES6-Promise</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/18/Vue源码阅读——new Vue/">Vue源码阅读（二）——new Vue</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/15/媒体查询/">媒体查询</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/10/Vue源码阅读——源码目录及构建/">Vue源码阅读（一）——源码目录及构建</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/06/Safari中transform3D变换导致的z-index异常/">Safari中使用transform 3D变换导致的z-index异常</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/03/ES6-Set&Map/">ES6-Set & Map</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/29/《CSS揭秘》读书笔记（二）：形状/">《CSS揭秘》读书笔记（二）：形状</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://github.com/tfcx-th" title="天赋创新的GitHub" target="_blank">天赋创新的GitHub</a><ul></ul><a href="mailto:tonghao_xjtu@qq.com" title="天赋创新的邮箱" target="_blank">天赋创新的邮箱</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">天赋创新的blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>